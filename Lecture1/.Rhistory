theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_fill_viridis_d(guide=FALSE) +
ggtitle("Share of 'winners' who repeat in subsequent year")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
ggtitle("Share of 'winners' who repeat in subsequent year")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_viridis_d(guide=FALSE) +
ggtitle("Risk-adjusted returns in subsequent quarter")
?scale_color_discrete
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_discrete(c("black", "blue")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_manual(c("black", "blue")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_manual(values=c("black", "blue")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_manual(values=c("black", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_x_discrete() +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =factor(decile), color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_x_discrete() +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =factor(decile), color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =as.factor(decile), color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
xlab("") +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
scale_x_date() +
xlab("") +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
scale_x_continuous(breaks=seq(1,10)) +
xlab("") +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line() +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
scale_x_continuous(breaks=seq(1,10)) +
xlab("Performance Decile in Ranking Quarter") +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
ggplot(data = bollen_busse_persistence, aes(y = alpha, x =decile, color=period)) +
geom_line(size=2) +
theme_minimal() +
theme(text = element_text(size=18,
family="News Cycle")) +
ylab("") +
geom_hline(yintercept=0) +
scale_x_continuous(breaks=seq(1,10)) +
xlab("Performance Decile in Ranking Quarter") +
scale_color_manual(values=c("#c90016", "#0f4d92")) +
ggtitle("Risk-adjusted returns in subsequent quarter")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
install.packages("gender")
ry(tidyverse_conflicts())
library(readr)
output_2019 <- read_csv("~/Downloads/paul_goldsmith_scraping (1)/output_2019.csv",
col_types = cols(date = col_character()))
View(output_2019)
install.packages("skimr")
?skimr
library(skimr)
?skimr
skimr(output_2019)
skim(output_2019)
output_2019 %>% separate(author, c("first_name", "last_name"))
output_2019 %>% separate(author, c("first_name"))
output_2019 %>% mutate(full_name = author) %>% separate(author, c("first_name"))
output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
mutate(gender = gender(first_name))
?gender
library(gender)
?gender
output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
mutate(gender = gender(first_name))
first_names <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name)
gender(first_name)
gender(first_names)
first_names <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name)
gender(as.vector(first_names))
as.vector(first_names)
as.vector(first_names)
output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>% gender(name_col = "first_name")
output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>% gender_df(name_col = "first_name")
?gender_df
gender_df(name_col = "first_name",
year_col = "1980")
output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
gender_df(name_col = "first_name",
year_col = "1980")
gender_df(name_col = "first_name",
year_col = "year")
output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
mutate(year = 1980) %>%
gender_df(name_col = "first_name",
year_col = "year")
skim(output_2019)
output_2019 %>% left_join(gender_count, c("first_name = name"))
gender_count <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
mutate(year = 1980) %>%
gender_df(name_col = "first_name",
year_col = "year")
output_2019 %>% left_join(gender_count, c("first_name = name"))
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, c("first_name = name"))
?left_join
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name"))
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant"))
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
summarize(proportion_male, proportion_female)
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
summarize(male_share = proportion_male, female_share =proportion_female)
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
summarize(male_share = mean(proportion_male), mean(female_share =proportion_female))
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
summarize(male_share = mean(proportion_male, na.rm=TRUE), mean(female_share =proportion_female, na.rm = TRUE))
output_2019 <- read_csv("~/Downloads/paul_goldsmith_scraping (1)/output_2011.csv",
col_types = cols(date = col_character()))
gender_count <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
mutate(year = 1980) %>%
gender_df(name_col = "first_name",
year_col = "year")
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
summarize(male_share = mean(proportion_male, na.rm=TRUE), mean(female_share =proportion_female, na.rm = TRUE))
output_2019 <- read_csv("~/Downloads/paul_goldsmith_scraping (1)/output_2019.csv",
col_types = cols(date = col_character()))
gender_count <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
mutate(year = 1980) %>%
gender_df(name_col = "first_name",
year_col = "year")
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
summarize(male_share = mean(proportion_male, na.rm=TRUE), mean(female_share =proportion_female, na.rm = TRUE))
skim(gender_count)
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
skim() %>%
summarize(male_share = mean(proportion_male, na.rm=TRUE), mean(female_share =proportion_female, na.rm = TRUE))
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
skim()
library(readr)
firstname_gender_facebook <- read_csv("~/Dropbox/Papers/CGP_GenderNBER/data/firstname_gender_facebook.csv")
View(firstname_gender_facebook)
skim(firstname_gender_facebook)
skim(firstname_gender_facebook)
library(readr)
firstname <- read_csv("~/Dropbox/Papers/CGP_GenderNBER/data/firstname.csv")
View(firstname)
skim(firstname)
View(firstname)
library(readr)
firstname <- read_csv("~/Dropbox/Papers/CGP_GenderNBER/data/firstname.csv")
View(firstname)
colnames(firstname) <- c("num_names", "num_female", "num_male")
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names)
firstname
colnames(firstname) <- c("firstname", "num_names", "num_female", "num_male")
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names)
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names,
male_share = num_male / num_names)
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
select(-starts_with("discussant")) %>%
skim()
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names,
male_share = num_male / num_names,
firstname = lower(firstname))
library(stringr)
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names,
male_share = num_male / num_names,
firstname = lower(firstname))
?stringr
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names,
male_share = num_male / num_names,
firstname = str_to_lower(firstname))
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant")) %>%
skim()
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names,
male_share = num_male / num_names,
firstname = str_to_lower(firstname))
skim(firstname_gender_facebook)
View(firstname_gender_facebook)
firstname <- read_csv("~/Dropbox/Papers/CGP_GenderNBER/data/firstname.csv")
View(firstname)
colnames(firstname) <- c("firstname",  "num_male", "num_female","num_names")
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names,
male_share = num_male / num_names,
firstname = str_to_lower(firstname))
gender_count <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
mutate(year = 1980) %>%
gender_df(name_col = "first_name",
year_col = "year")
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant")) %>%
skim()
View(output_2019)
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / num_names,
male_share = num_male / num_names,
firstname = str_to_title(firstname))
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant")) %>%
skim()
gender_count <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
mutate(year = 1980) %>%
gender_df(name_col = "first_name",
year_col = "year")
gender_count
output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant")) %>%
skim()
matched <- output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant"))
matched %>% skim()
View(matched)
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / (num_female + num_male),
male_share = num_male / (num_female + num_male),
firstname = str_to_title(firstname))
gender_count <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
mutate(year = 1980) %>%
gender_df(name_col = "first_name",
year_col = "year")
matched <- output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant"))
matched %>% skim()
output_2019 <- read_csv("~/Downloads/paul_goldsmith_scraping (1)/output_2018.csv",
col_types = cols(date = col_character()))
firstname_gender_facebook <- read_csv("~/Dropbox/Papers/CGP_GenderNBER/data/firstname_gender_facebook.csv")
firstname <- read_csv("~/Dropbox/Papers/CGP_GenderNBER/data/firstname.csv")
colnames(firstname) <- c("firstname",  "num_male", "num_female","num_names")
firstname_gender_facebook <- firstname %>% mutate(female_share = num_female / (num_female + num_male),
male_share = num_male / (num_female + num_male),
firstname = str_to_title(firstname))
gender_count <- output_2019 %>% mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
select(first_name) %>%
mutate(year = 1980) %>%
gender_df(name_col = "first_name",
year_col = "year")
matched <- output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant"))
matched %>% skim()
matched <- output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant")) %>%
mutate(female = female_share > 0.95,
male = male_share > 0.95,
unknown = ~(female_share > 0.95 | male_share > 0.95))
matched <- output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant")) %>%
mutate(female = female_share > 0.95,
male = male_share > 0.95,
unknown = !(female_share > 0.95 | male_share > 0.95))
matched %>% skim()
matched %>% filter(unknown == TRUE)
matched <- output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant")) %>%
mutate(female = female_share > 0.85,
male = male_share > 0.85,
unknown = !(female_share > 0.85 | male_share > 0.85))
matched %>% skim()
matched <- output_2019 %>%
mutate(full_name = author) %>%
separate(author, c("first_name")) %>%
left_join(gender_count, by = c("first_name" = "name")) %>%
left_join(firstname_gender_facebook, by= c("first_name" = "firstname")) %>%
select(-starts_with("discussant")) %>%
mutate(female = female_share > 0.95,
male = male_share > 0.95,
unknown = !(female_share > 0.95 | male_share > 0.95))
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
sp500 <- read_csv("../Data/sp500.csv", col_types = cols(caldt = col_date(format = "%m/%d/%Y")))
bonds <- read_csv("bonds.csv", col_types = cols(caldt = col_date(format = "%Y%m%d")))
bonds <- read_csv("../Data/bonds.csv", col_types = cols(caldt = col_date(format = "%Y%m%d")))
sp500 <- read_csv("../Data/sp500.csv", col_types = cols(caldt = col_date(format = "%m/%d/%Y")))
bonds <- read_csv("../Data/bonds.csv", col_types = cols(caldt = col_date(format = "%Y%m%d")))
View(sp500)
ggplot(data = sp500) +
geom_line(aes(y = vwretd))
ggplot(data = sp500) +
geom_line(aes(y = vwretd, x = caldt))
ggplot(data = sp500) +
geom_line(aes(y = vwretd, x = caldt))
